{# Only show on non-login pages, and only if the user is authenticated #}
{% if request.user.is_authenticated and request.resolver_match and request.resolver_match.url_name != 'login' %}
<header class="border-bottom bg-white">
  <div class="container py-2 d-flex align-items-center justify-content-between">
    <div class="small text-muted">
      Logged in as <strong>{{ request.user.get_short_name|default:request.user.username }}</strong>
    </div>

    {# Use POST for logout (safer) #}
    <form method="post" action="{% url 'logout' %}" class="m-0">
      {% csrf_token %}
      <button class="btn btn-outline-secondary btn-sm">Logout</button>
    </form>
  </div>
</header>
{% endif %}
